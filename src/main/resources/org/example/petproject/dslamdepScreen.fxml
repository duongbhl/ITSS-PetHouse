<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.petproject.controller.dslamdepController"
            style="-fx-background-color: #FFFFFF;">
    <children>
        <!-- Top Bar -->
        <HBox alignment="CENTER_LEFT"
              prefHeight="60"
              style="-fx-background-color: #1EE6C3;"
              AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <padding>
                <Insets left="10" right="20" top="0" bottom="0"/>
            </padding>

            <ImageView fx:id="imgLogo"
                       fitWidth="45" fitHeight="45"
                       preserveRatio="true"
                       onMouseClicked="#handleLogoClick"/>
            <Label text="Dịch vụ làm đẹp &amp; vệ sinh"
                   textFill="WHITE"
                   style="-fx-font-size:24; -fx-font-weight:bold;">
                <HBox.margin>
                    <Insets left="15"/>
                </HBox.margin>
            </Label>

            <Pane HBox.hgrow="ALWAYS"/>
            <Label fx:id="ownerName"
                   textFill="WHITE"
                   style="-fx-font-size:16;">
                <HBox.margin>
                    <Insets right="10"/>
                </HBox.margin>
            </Label>
            <ImageView fx:id="ownerAvatar"
                       fitWidth="40" fitHeight="40"
                       preserveRatio="true"/>
        </HBox>

        <!-- Content -->
        <VBox alignment="TOP_CENTER"
              spacing="20"
              AnchorPane.topAnchor="75" AnchorPane.leftAnchor="30"
              AnchorPane.rightAnchor="30" AnchorPane.bottomAnchor="20">
            <Label text="Danh sách thú cưng"
                   textFill="#F39C12"
                   style="-fx-font-size:28; -fx-font-weight:bold;"/>

            <VBox style="-fx-background-color:white;
                         -fx-border-color:#87CEEB; -fx-border-width:2.5;
                         -fx-border-radius:30; -fx-background-radius:30;
                         -fx-padding:20;"
                  VBox.vgrow="ALWAYS">
                <!-- Scrollable cards -->
                <ScrollPane fx:id="scrollPanePets"
                            fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                            style="-fx-background-color:transparent;" VBox.vgrow="ALWAYS">
                    <content>
                        <FlowPane fx:id="cardsContainer"
                                  hgap="20" vgap="20"
                                  prefWrapLength="800">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10"/>
                            </padding>
                        </FlowPane>
                    </content>
                </ScrollPane>

                <!-- Add button fixed at bottom -->
                <HBox alignment="CENTER">
                    <padding>
                        <Insets top="10" right="0" bottom="10" left="0"/>
                    </padding>
                    <Button fx:id="addButton"
                            onAction="#handleAddCard"
                            prefWidth="70" prefHeight="70"
                            style="-fx-background-color:#4CAF50; -fx-background-radius:35; -fx-background-insets:0;"/>
                </HBox>
            </VBox>
        </VBox>
    </children>
</AnchorPane>
